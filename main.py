import streamlit as st

# 1. í˜ì´ì§€ ê¸°ë³¸ ì„¤ì • (ê°€ì¥ ë¨¼ì € ì™€ì•¼ í•©ë‹ˆë‹¤)
st.set_page_config(page_title="ë‚˜ì˜ MBTI ì§„ë¡œ íƒí—˜ê¸°", page_icon="âœ¨", layout="centered")

# 2. í™”ë ¤í•œ ë„¤ì˜¨ì‚¬ì¸ & ë‹¤í¬ í…Œë§ˆ CSS ì ìš© (ì—¬ê¸°ì„œ """ ì—´ë¦¬ê³  ë‹«íˆëŠ” ë¶€ë¶„ ì£¼ì˜!)
st.markdown("""
<style>
    .stApp {
        background: linear-gradient(-45deg, #0f172a, #312e81, #1e1b4b, #020617);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        color: white;
    }
    
    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* ë©”ì¸ ì œëª© ìŠ¤íƒ€ì¼ */
    .main-title {
        font-size: 3rem !important;
        font-weight: bold;
        text-align: center;
        background: linear-gradient(to right, #c084fc, #38bdf8, #f472b6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 20px rgba(192, 132, 252, 0.5);
        margin-bottom: 0px;
    }
    
    /* ì„œë¸Œ íƒ€ì´í‹€ ìŠ¤íƒ€ì¼ */
    .sub-title {
        text-align: center;
        color: #cbd5e1;
        font-size: 1.2rem;
        margin-bottom: 30px;
    }

    /* ê²°ê³¼ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    .result-card {
        background: rgba(30, 41, 59, 0.8);
        border-radius: 20px;
        padding: 30px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(10px);
        margin-top: 20px;
    }
    
    .info-title { font-size: 1.2rem; font-weight: bold; margin-top: 15px; margin-bottom: 5px; }
    .pros { color: #86efac; }
    .cons { color: #fca5a5; }
    .jobs { color: #fde047; }
    
    .info-content {
        background: rgba(0, 0, 0, 0.3);
        padding: 15px;
        border-radius: 10px;
        color: white;
    }
</style>
""", unsafe_allow_html=True) # <- ì—¬ê¸°ì„œ ì •í™•íˆ ë‹«í˜€ì•¼ í•©ë‹ˆë‹¤!

# 3. MBTI ë°ì´í„°ë² ì´ìŠ¤ ğŸ“š
mbti_data = {
    "ISTJ": {"nickname": "ğŸ›¡ï¸ ë“ ë“ í•œ ì†Œê¸ˆí˜•", "pros": "ì±…ì„ê°ì´ ê°•í•˜ê³  ë§¤ì‚¬ì— ì² ì €í•´ìš”. ê·œì¹™ì„ ì˜ ì§€í‚¤ê³  ê¸°ì–µë ¥ì´ ë›°ì–´ë‚˜ë‹µë‹ˆë‹¤! ğŸ“", "cons": "ë³€í™”ì— ì ì‘í•˜ëŠ” ë° ì‹œê°„ì´ ê±¸ë¦¬ê³ , ê°€ë” ìœµí†µì„±ì´ ë¶€ì¡±í•´ ë³´ì¼ ìˆ˜ ìˆì–´ìš”. ğŸ˜…", "jobs": "íšŒê³„ì‚¬, ê³µë¬´ì›, ê²½ì°°ê´€, ë°ì´í„° ë¶„ì„ê°€, ì¹˜ê³¼ì˜ì‚¬ ğŸ¥"},
    "ISFJ": {"nickname": "ğŸ‘¼ ë”°ëœ»í•œ ìˆ˜í˜¸ì", "pros": "ì„¬ì„¸í•˜ê³  í—Œì‹ ì ì´ì—ìš”! ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ì˜ ì‚´í”¼ê³  ë°°ë ¤ì‹¬ì´ ê¹Šì–´ìš”. ğŸ’–", "cons": "ë¶€íƒì„ ê±°ì ˆí•˜ëŠ” ê²ƒì„ ì–´ë ¤ì›Œí•˜ê³ , í˜¼ì ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë– ì•ˆëŠ” ê²½í–¥ì´ ìˆì–´ìš”. ğŸ¥²", "jobs": "ê°„í˜¸ì‚¬, ì´ˆë“±í•™êµ êµì‚¬, ì‚¬íšŒë³µì§€ì‚¬, ìƒë‹´ì‚¬, ì¸ì‚¬ ë‹´ë‹¹ì ğŸ¤"},
    "INFJ": {"nickname": "ğŸ”® í†µì°°ë ¥ ìˆëŠ” ì˜ˆì–¸ì", "pros": "ì§ê´€ë ¥ì´ ë›°ì–´ë‚˜ê³  ì‚¬ëŒì— ëŒ€í•œ ê¹Šì€ ì´í•´ì‹¬ì„ ê°€ì¡Œì–´ìš”. ì°½ì˜ì ì¸ ì™„ë²½ì£¼ì˜ì! ğŸŒŸ", "cons": "ì†ë§ˆìŒì„ ì˜ ë“œëŸ¬ë‚´ì§€ ì•Šì•„ì„œ ì‚¬ëŒë“¤ì´ ë‹¤ê°€ê°€ê¸° ì–´ë ¤ì›Œí•  ë•Œê°€ ìˆì–´ìš”. ğŸ¤", "jobs": "ì‹¬ë¦¬ ìƒë‹´ê°€, ì‘ê°€, ë””ìì´ë„ˆ, êµì‚¬, ì˜ˆìˆ ê°€ ğŸ¨"},
    "INTJ": {"nickname": "â™Ÿï¸ ì „ëµì ì¸ ë§ˆìŠ¤í„°ë§ˆì¸ë“œ", "pros": "ë¶„ì„ë ¥ì´ ë›°ì–´ë‚˜ê³  ì „ì²´ì ì¸ ìˆ²ì„ ë³´ëŠ” ëŠ¥ë ¥ì´ íƒì›”í•´ìš”. ë…ë¦½ì ì¸ ì‚¬ê³ ë°©ì‹! ğŸ§ ", "cons": "ê°€ë” ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ê³µê°í•˜ëŠ” ë° ì„œíˆ´ëŸ¬ì„œ ì°¨ê°‘ë‹¤ëŠ” ì˜¤í•´ë¥¼ ë°›ì•„ìš”. ğŸ§Š", "jobs": "ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì, ì‹œìŠ¤í…œ ë¶„ì„ê°€, ê³¼í•™ì, ë³€í˜¸ì‚¬, ê²½ì˜ ì»¨ì„¤í„´íŠ¸ ğŸ’»"},
    "ISTP": {"nickname": "ğŸ› ï¸ ë§ŒëŠ¥ ì¬ì£¼ê¾¼", "pros": "ìœ„ê¸° ìƒí™©ì—ì„œ ì¹¨ì°©í•˜ê³ , ë„êµ¬ë‚˜ ê¸°ê³„ë¥¼ ë‹¤ë£¨ëŠ” ì¬ëŠ¥ì´ ë›°ì–´ë‚˜ìš”! ë…¼ë¦¬ì ì¸ í•´ê²°ì‚¬. âš™ï¸", "cons": "ë°˜ë³µë˜ê³  ì§€ë£¨í•œ ì¼ìƒì´ë‚˜ ì—„ê²©í•œ ê·œì¹™ì„ ë„ˆë¬´ ë‹µë‹µí•´í•´ìš”. ğŸƒâ€â™‚ï¸", "jobs": "ì—”ì§€ë‹ˆì–´, íŒŒì¼ëŸ¿, í”„ë¡œê·¸ë˜ë¨¸, ì •ë¹„ì‚¬, ì‘ê¸‰êµ¬ì¡°ì‚¬ ğŸš"},
    "ISFP": {"nickname": "ğŸ¨ ììœ ë¡œìš´ ì˜í˜¼ì˜ ì˜ˆìˆ ê°€", "pros": "í˜„ì¬ë¥¼ ì¦ê¸¸ ì¤„ ì•Œê³ , ì˜ˆìˆ ì  ê°ê°ì´ ë›°ì–´ë‚˜ë©° ë‹¤ì •ë‹¤ê°í•´ìš”. ğŸŒ¸", "cons": "ë¯¸ë˜ë¥¼ ì¥ê¸°ì ìœ¼ë¡œ ê³„íší•˜ê³  ì‹¤ì²œí•˜ëŠ” ê²ƒì„ ì¡°ê¸ˆ ì–´ë ¤ì›Œí•´ìš”. ğŸ“…", "jobs": "íŒ¨ì…˜ ë””ìì´ë„ˆ, ìš”ë¦¬ì‚¬, ë³´ì„ ì„¸ê³µì‚¬, ìˆ˜ì˜ì‚¬, í”Œë¡œë¦¬ìŠ¤íŠ¸ ğŸ’"},
    "INFP": {"nickname": "ğŸ•Šï¸ ì—´ì •ì ì¸ ì¤‘ì¬ì", "pros": "ìƒìƒë ¥ì´ í’ë¶€í•˜ê³  ì´ìƒì ì´ì—ìš”. íƒ€ì¸ì˜ ê°€ì¹˜ê´€ì„ ì¡´ì¤‘í•˜ê³  ì´í•´ì‹¬ì´ ë„“ì–´ìš”. ğŸŒˆ", "cons": "ë„ˆë¬´ ì´ìƒì£¼ì˜ì ì´ë¼ í˜„ì‹¤ì ì¸ ë¬¸ì œì— ë¶€ë”ªíˆë©´ ìƒì²˜ë¥¼ ì˜ ë°›ì•„ìš”. ğŸ©¹", "jobs": "ì‹œì¸, ì†Œì„¤ê°€, ì• ë‹ˆë©”ì´í„°, ë¯¸ìˆ  ì¹˜ë£Œì‚¬, ì‚¬ì„œ ğŸ“š"},
    "INTP": {"nickname": "ğŸ”¬ ë…¼ë¦¬ì ì¸ ì‚¬ìƒ‰ê°€", "pros": "ì§€ì  í˜¸ê¸°ì‹¬ì´ ì—„ì²­ë‚˜ìš”! ë³µì¡í•œ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³  ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ ë‚´ëŠ” ì²œì¬. ğŸ’¡", "cons": "ë¨¸ë¦¿ì† ìƒê°ì— ë„ˆë¬´ ë¹ ì ¸ì„œ í˜„ì‹¤ ê°ê°ì´ë‚˜ ì‹¤ì²œë ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆì–´ìš”. ğŸ¢", "jobs": "ëŒ€í•™êµìˆ˜, ì»´í“¨í„° í”„ë¡œê·¸ë˜ë¨¸, ì²œë¬¸í•™ì, ì² í•™ì, ì •ë³´ ë³´ì•ˆ ì „ë¬¸ê°€ ğŸ•µï¸â€â™‚ï¸"},
    "ESTP": {"nickname": "âš¡ ëª¨í—˜ì„ ì¦ê¸°ëŠ” ì‚¬ì—…ê°€", "pros": "í–‰ë™ë ¥ì´ ìµœê³ ! ì–´ë””ì„œë“  ì ì‘ì„ ì˜í•˜ê³  ì—ë„ˆì§€ê°€ ë„˜ì³ì„œ ì£¼ë³€ì„ ì¦ê²ê²Œ í•´ìš”. ğŸ¢", "cons": "ì¶©ë™ì ì¸ ë©´ì´ ìˆì–´ì„œ ê³„íšì„ ì„¸ìš°ê±°ë‚˜ ê¼¼ê¼¼í•˜ê²Œ ë§ˆë¬´ë¦¬í•˜ëŠ” ê±¸ ì–´ë ¤ì›Œí•´ìš”. ğŸ’¥", "jobs": "ê¸°ì—…ê°€, ë§ˆì¼€í„°, ìŠ¤í¬ì¸  ì„ ìˆ˜, ì†Œë°©ê´€, ì˜ì—… ì‚¬ì› ğŸ…"},
    "ESFP": {"nickname": "ğŸ‰ ììœ ë¡œìš´ ì˜í˜¼ì˜ ì—°ì˜ˆì¸", "pros": "ë¶„ìœ„ê¸° ë©”ì´ì»¤! ì‚¬êµì ì´ê³  ë‚™ì²œì ì´ë©°, ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ëŠ” ê²ƒì„ ì •ë§ ì¢‹ì•„í•´ìš”. ğŸ•º", "cons": "ì§„ì§€í•˜ê³  ë¬´ê±°ìš´ ì£¼ì œì˜ ëŒ€í™”ë‚˜ ì¥ê¸°ì ì¸ ê³„íš ì„¸ìš°ê¸°ë¥¼ í”¼í•˜ë ¤ê³  í•´ìš”. ğŸ™ˆ", "jobs": "ë°°ìš°, ì´ë²¤íŠ¸ ê¸°íšì, ìŠ¹ë¬´ì›, ë ˆí¬ë¦¬ì—ì´ì…˜ ê°•ì‚¬, íˆ¬ì–´ ê°€ì´ë“œ âœˆï¸"},
    "ENFP": {"nickname": "ğŸ‡ ì¬ê¸°ë°œë„í•œ í™œë™ê°€", "pros": "ì°½ì˜ì ì´ê³  ì—ë„ˆì§€ê°€ ë„˜ì³ìš”! ì‚¬ëŒë“¤ì—ê²Œ ì—´ì •ì„ ë¶ˆì–´ë„£ëŠ” ì¸ê°„ ë¹„íƒ€ë¯¼. ğŸ‹", "cons": "ìƒˆë¡œìš´ ì¼ì„ ë²Œì´ëŠ” ê±´ ì¢‹ì•„í•˜ì§€ë§Œ, ëˆê¸° ìˆê²Œ ë§ˆë¬´ë¦¬í•˜ëŠ” ë’·ì‹¬ì´ ë¶€ì¡±í•´ìš”. ğŸ’¦", "jobs": "í¬ë¦¬ì—ì´í„°(ìœ íŠœë²„), ê´‘ê³  ê¸°íšì, ê¸°ì, ì—”í„°í…Œì¸ë¨¼íŠ¸ ì¢…ì‚¬ì, PR ì „ë¬¸ê°€ ğŸ¬"},
    "ENTP": {"nickname": "ğŸ”¥ ëœ¨ê±°ìš´ ë…¼ìŸì„ ì¦ê¸°ëŠ” ë³€ë¡ ê°€", "pros": "ë¨¸ë¦¬ íšŒì „ì´ ë¹ ë¥´ê³  ë…ì°½ì ì´ì—ìš”. í‹€ì— ë°•íˆì§€ ì•Šì€ ìƒˆë¡œìš´ ì‹œê°ì„ ì œì‹œí•´ìš”! ğŸŒªï¸", "cons": "ë…¼ìŸ ìì²´ë¥¼ ì¦ê¸°ë‹¤ ë³´ë‹ˆ ì˜ë„ì¹˜ ì•Šê²Œ ìƒëŒ€ë°©ì˜ ê¸°ë¶„ì„ ìƒí•˜ê²Œ í•  ìˆ˜ ìˆì–´ìš”. ğŸ—£ï¸", "jobs": "ë°œëª…ê°€, ë²¤ì²˜ ì‚¬ì—…ê°€, ì •ì¹˜ì¸, ì•„íŠ¸ ë””ë ‰í„°, ì˜í™” ê°ë… ğŸ¥"},
    "ESTJ": {"nickname": "ğŸ¢ ì—„ê²©í•œ ê´€ë¦¬ì", "pros": "ì¡°ì§ë ¥ê³¼ ì¶”ì§„ë ¥ì´ ë›°ì–´ë‚˜ìš”! ëª©í‘œë¥¼ ì„¸ìš°ë©´ ì²´ê³„ì ìœ¼ë¡œ ë°€ì–´ë¶™ì´ëŠ” ë¦¬ë”. ğŸ“ˆ", "cons": "ìì‹ ì˜ ë°©ì‹ì„ ê³ ì§‘í•˜ëŠ” ê²½í–¥ì´ ìˆì–´ì„œ ë‹¤ë¥¸ ì‚¬ëŒì˜ ì˜ê²¬ì„ ìˆ˜ìš©í•˜ëŠ” ê²Œ ì„œíˆ´ëŸ¬ìš”. ğŸ§±", "jobs": "ê²½ì˜ì, íŒì‚¬, í•™êµì¥, í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €, ì€í–‰ì› ğŸ’¼"},
    "ESFJ": {"nickname": "ğŸ¥° ì‚¬êµì ì¸ ì™¸êµê´€", "pros": "í˜‘ë™ì‹¬ì´ ê°•í•˜ê³  ì¹œì ˆí•´ìš”! ì‚¬ëŒë“¤ì„ ì˜ ì±™ê¸°ê³  ë¬´ë¦¬ë¥¼ í™”í•©í•˜ê²Œ ë§Œë“œëŠ” ì ‘ì°©ì œ. ğŸ€", "cons": "ë‹¤ë¥¸ ì‚¬ëŒì˜ ì¸ì •ì„ ë„ˆë¬´ ì¤‘ìš”í•˜ê²Œ ìƒê°í•´ì„œ ë‚¨ì˜ ì‹œì„ ì„ ë§ì´ ì˜ì‹í•´ìš”. ğŸ‘€", "jobs": "êµì‚¬, í˜¸í…” ì§€ë°°ì¸, í™ë³´ ë‹´ë‹¹ì, ì˜ë£Œ ì¢…ì‚¬ì, ë¹„ì„œ ğŸ¨"},
    "ENFJ": {"nickname": "â˜€ï¸ ì •ì˜ë¡œìš´ ì‚¬íšŒìš´ë™ê°€", "pros": "ì¹´ë¦¬ìŠ¤ë§ˆì™€ ê³µê° ëŠ¥ë ¥ì„ ë™ì‹œì— ê°–ì·„ì–´ìš”! ì‚¬ëŒë“¤ì„ ì´ëŒê³  ë™ê¸°ë¥¼ ë¶€ì—¬í•˜ëŠ” ë©˜í† . ğŸŒ±", "cons": "ë‚¨ì˜ ë¬¸ì œì— ì§€ë‚˜ì¹˜ê²Œ ê¹Šì´ ê´€ì—¬í•˜ë‹¤ê°€ ìŠ¤ìŠ¤ë¡œ ì§€ì³ë²„ë¦´ ìˆ˜ ìˆì–´ìš”. ë°§ë°ë¦¬ ë°©ì „ ì¡°ì‹¬! ğŸª«", "jobs": "ì •ì¹˜ì¸, ì‹¬ë¦¬ ìƒë‹´ì‚¬, ì¸ì‚¬ êµìœ¡ ê°•ì‚¬, ë¹„ì˜ë¦¬ ë‹¨ì²´ ì´ì‚¬, ëª©íšŒì ğŸŒ"},
    "ENTJ": {"nickname": "ğŸ‘‘ ëŒ€ë‹´í•œ í†µì†”ì", "pros": "ë¹„ì „ì„ ì œì‹œí•˜ê³  ëª©í‘œë¥¼ í–¥í•´ íš¨ìœ¨ì ìœ¼ë¡œ ë‚˜ì•„ê°€ëŠ” íƒ€ê³ ë‚œ ë¦¬ë”ì‹­ì˜ ì†Œìœ ì! ğŸš€", "cons": "ëª©í‘œ ë‹¬ì„±ì— ì§‘ì¤‘í•œ ë‚˜ë¨¸ì§€ ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ë¬´ì‹œí•˜ê±°ë‚˜ ì§€ì‹œì ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆì–´ìš”. âš¡", "jobs": "CEO, ê²½ì˜ ì»¨ì„¤í„´íŠ¸, íˆ¬ì ì´ê´„ì, ëŒ€í•™êµìˆ˜, ê¸°ì—… ì„ì› ğŸ“Š"}
}

# 4. ìƒíƒœ ê´€ë¦¬ (ì–´ë–¤ ë²„íŠ¼ì´ ëˆŒë ¸ëŠ”ì§€ ê¸°ì–µ)
if 'selected_mbti' not in st.session_state:
    st.session_state.selected_mbti = None

def click_mbti(mbti_type):
    st.session_state.selected_mbti = mbti_type

# 5. í™”ë©´ ë ˆì´ì•„ì›ƒ êµ¬ì„±
st.markdown('<p class="main-title">âœ¨ ë‚˜ì˜ MBTI ì§„ë¡œ íƒí—˜ê¸° ğŸš€</p>', unsafe_allow_html=True)
st.markdown('<p class="sub-title">ë„ˆì˜ ìˆ¨ê²¨ì§„ ì ì¬ë ¥ì„ ì°¾ì•„ë´! ì•„ë˜ì—ì„œ ë„ˆì˜ MBTIë¥¼ ì„ íƒí•´ë´ ğŸ§ğŸ‘‡</p>', unsafe_allow_html=True)

# 4x4 ê·¸ë¦¬ë“œë¡œ ë²„íŠ¼ ë°°ì¹˜
mbti_keys = list(mbti_data.keys())
for i in range(0, 16, 4):
    cols = st.columns(4)
    for j in range(4):
        with cols[j]:
            st.button(mbti_keys[i+j], on_click=click_mbti, args=(mbti_keys[i+j],), use_container_width=True)

# 6. ê²°ê³¼ì°½ ì¶œë ¥ (ì—¬ê¸°ë„ """ ê°€ ì˜ ë‹«í˜€ìˆëŠ”ì§€ í™•ì¸!)
if st.session_state.selected_mbti:
    mbti = st.session_state.selected_mbti
    data = mbti_data[mbti]
    
    st.markdown(f"""
    <div class="result-card">
        <h2 style="text-align: center; color: #38bdf8; border-bottom: 2px dashed rgba(255,255,255,0.2); padding-bottom: 15px;">
            {mbti} : {data['nickname']}
        </h2>
        
        <div class="info-title pros">ğŸ‘ ë¹›ë‚˜ëŠ” ì¥ì  (ê°•ì )</div>
        <div class="info-content">{data['pros']}</div>
        
        <div class="info-title cons">ğŸŒ± ì„±ì¥ í¬ì¸íŠ¸ (ë‹¨ì )</div>
        <div class="info-content">{data['cons']}</div>
        
        <div class="info-title jobs">ğŸ’¼ ì°°ë–¡ê¶í•© ì¶”ì²œ ì§ì—…</div>
        <div class="info-content">{data['jobs']}</div>
    </div>
    """, unsafe_allow_html=True) # <- ì—¬ê¸°ì„œë„ ì™„ë²½í•˜ê²Œ ë‹«í™ë‹ˆë‹¤!
